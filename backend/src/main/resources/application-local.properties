# Use in-memory H2 for local
spring.datasource.url=jdbc:h2:mem:impulse;DB_CLOSE_DELAY=-1;MODE=MySQL
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# Let Flyway run and use H2-specific migrations under db/migration/h2
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration/h2

# Disable Hibernate schema generation in local; Flyway will provide schema
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false

# Dev RSA keys (optional): provide paths or leave blank to use ephemeral keys
impulse.security.rsa.private-key-path=
impulse.security.rsa.public-key-path=

# Storage fallback for local filesystem
impulse.storage.use-filesystem=true
impulse.storage.filesystem.base-path=${user.home}/impulse_storage

# Dev storage fallback (filesystem)
app.storage.type=local
app.storage.local.base-dir=${user.home}/impulse_storage

# Short-lived token durations for local testing
security.jwt.access-token-expiration-minutes=60
security.jwt.refresh-token-expiration-days=14

# Development convenience
management.endpoints.web.exposure.include=health,info

# JWT
impulse.security.jwt.expiration=900000
impulse.security.jwt.refresh-expiration=1209600000

# Storage (S3-compatible) example - set these to point to MinIO/Cloudflare R2 locally
impulse.storage.provider=local
impulse.storage.bucket=impulse-dev
impulse.storage.endpoint=
impulse.storage.access-key=
impulse.storage.secret-key=
